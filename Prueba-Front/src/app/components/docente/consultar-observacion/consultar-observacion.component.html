<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consultar Observaciones</title>
</head>
<body>
  <div class="container">
    <h2>ðŸ“‹ Consultar Observaciones</h2>
    
    <div class="form-group">
      <label>Selecciona una materia:</label>
      <select [(ngModel)]="materiaSeleccionada" (change)="obtenerEstudiantes()">
        <option *ngFor="let materia of materias" [value]="materia.nombreMateria">
          {{ materia.nombreMateria }}
        </option>
      </select>
    </div>
    
    <div class="form-group">
      <label>Selecciona un estudiante:</label>
      <select [(ngModel)]="estudianteSeleccionado">
        <option *ngFor="let estudiante of estudiantes" [value]="estudiante.matriculaEstudiante">
          {{ estudiante.nombreCompleto }}
        </option>
      </select>
    </div>
    
    <button (click)="consultarObservaciones()">Consultar Observaciones</button>
    
    <!-- Mostrar observaciones -->
    <div *ngIf="observaciones.length > 0">
      <h3>Observaciones del Estudiante</h3>
      <table>
        <thead>
          <tr>
            <th>Materia</th>
            <th>Semestre</th>
            <th>AÃ±o</th>
            <th>DescripciÃ³n</th>
            <th>Fecha de Registro</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let obs of observaciones">
            <td>{{ obs.asignatura }}</td>
            <td>{{ obs.semestre }}</td>
            <td>{{ obs.anio }}</td>
            <td>{{ obs.descripcion }}</td>
            <td>{{ obs.createdAt | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div *ngIf="observaciones.length === 0" class="mensaje-vacio">
      <p>No se encontraron observaciones para este estudiante.</p>
    </div>
  </div>
</body>
</html>